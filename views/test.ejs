<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" name="email" id="email" />
    <button type="submit" name="submitbutton" onclick="send()">submit</button>
  </body>

  <script>
    function send() {
      if (document.getElementById("email").value !== "") {
        const data = {
          email: document.getElementById("email").value,
        };

        const xhr = new XMLHttpRequest();
        xhr.open("POST", "/home/test", true);
        xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        xhr.send(JSON.stringify(data));
        console.log("req sent...");

        xhr.onreadystatechange = function () {
          if (xhr.readyState == XMLHttpRequest.DONE) {
            const serverResponse = JSON.parse(xhr.response);
            alert(serverResponse.message);
          }
        };
      } else {
        alert("Please enter an email");
      }
    }
  </script>
</html>
